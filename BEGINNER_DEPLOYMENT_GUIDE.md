# ğŸš€ HomeServiceChat é›¶åŸºç¡€éƒ¨ç½²æŒ‡å—

> **é€‚åˆå¯¹è±¡**: å®Œå…¨ä¸æ‡‚ä»£ç çš„ç”¨æˆ·  
> **é¢„è®¡æ—¶é—´**: 4-6å°æ—¶  
> **æ€»æˆæœ¬**: çº¦300-500å…ƒ/æœˆ

## ğŸ“ å‡†å¤‡å·¥ä½œæ¸…å•

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·å‡†å¤‡ä»¥ä¸‹ç‰©å“ï¼š
- [ ] ä¸€å¼ ä¿¡ç”¨å¡æˆ–æ”¯ä»˜å®ï¼ˆç”¨äºè´­ä¹°æœåŠ¡å™¨å’ŒåŸŸåï¼‰
- [ ] ä¸€å°ç”µè„‘ï¼ˆWindows/Macéƒ½å¯ä»¥ï¼‰
- [ ] ç¨³å®šçš„ç½‘ç»œè¿æ¥
- [ ] æ‰‹æœºï¼ˆç”¨äºæ¥æ”¶éªŒè¯ç ï¼‰

---

## ç¬¬ä¸€æ­¥ï¼šè´­ä¹°äº‘æœåŠ¡å™¨ (30åˆ†é’Ÿ)

### 1.1 é€‰æ‹©äº‘æœåŠ¡å•†

**æ¨èé€‰æ‹©**ï¼š
- ğŸ‡¨ğŸ‡³ **é˜¿é‡Œäº‘** (å›½å†…ç”¨æˆ·é¦–é€‰ï¼Œéœ€è¦å¤‡æ¡ˆ)
- ğŸ‡¨ğŸ‡³ **è…¾è®¯äº‘** (å›½å†…ç”¨æˆ·å¤‡é€‰)
- ğŸŒ **vultr** (æµ·å¤–ç”¨æˆ·ï¼Œæ— éœ€å¤‡æ¡ˆ)

æˆ‘ä»¬ä»¥**é˜¿é‡Œäº‘**ä¸ºä¾‹ï¼š

### 1.2 æ³¨å†Œé˜¿é‡Œäº‘è´¦æˆ·

1. **æ‰“å¼€æµè§ˆå™¨**ï¼Œè¾“å…¥ï¼š`https://www.aliyun.com`
2. **ç‚¹å‡»å³ä¸Šè§’"å…è´¹æ³¨å†Œ"**
3. **è¾“å…¥æ‰‹æœºå·**ï¼Œæ¥æ”¶éªŒè¯ç 
4. **è®¾ç½®å¯†ç **ï¼Œå®Œæˆæ³¨å†Œ
5. **å®åè®¤è¯**ï¼šä¸Šä¼ èº«ä»½è¯ç…§ç‰‡ï¼ˆå¿…é¡»å®Œæˆï¼‰

### 1.3 è´­ä¹°ECSæœåŠ¡å™¨

1. **ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°**
2. **æœç´¢"ECS"**ï¼Œç‚¹å‡»"äº‘æœåŠ¡å™¨ECS"
3. **ç‚¹å‡»"ç«‹å³è´­ä¹°"**

**é…ç½®é€‰æ‹©**ï¼š
```
åœ°åŸŸï¼šé€‰æ‹©ç¦»ä½ æœ€è¿‘çš„åŸå¸‚ï¼ˆå¦‚ï¼šåä¸œ1-æ­å·ï¼‰
å®ä¾‹è§„æ ¼ï¼š2æ ¸4Gï¼ˆecs.t6-c1m2.largeï¼‰
é•œåƒï¼šUbuntu 20.04 64ä½
ç³»ç»Ÿç›˜ï¼š40GB SSD
å…¬ç½‘å¸¦å®½ï¼š5M
è´­ä¹°æ—¶é•¿ï¼š1ä¸ªæœˆï¼ˆæµ‹è¯•ç”¨ï¼‰
```

4. **è®¾ç½®å®ä¾‹å¯†ç **ï¼š
   - å‹¾é€‰"è‡ªå®šä¹‰å¯†ç "
   - è®¾ç½®rootå¯†ç ï¼ˆå¿…é¡»è®°ä½ï¼ï¼‰
   - ä¾‹å¦‚ï¼š`MyServer123!`

5. **å®‰å…¨ç»„è®¾ç½®**ï¼š
   - å‹¾é€‰"å¼€æ”¾22,80,443,3389ç«¯å£"

6. **ç¡®è®¤è®¢å•**ï¼Œæ”¯ä»˜è´¹ç”¨ï¼ˆçº¦150å…ƒ/æœˆï¼‰

### 1.4 è·å–æœåŠ¡å™¨ä¿¡æ¯

è´­ä¹°å®Œæˆåï¼š
1. **è¿›å…¥ECSæ§åˆ¶å°**
2. **æ‰¾åˆ°ä½ çš„å®ä¾‹**
3. **è®°å½•ä¸‹"å…¬ç½‘IPåœ°å€"**ï¼Œä¾‹å¦‚ï¼š`47.96.123.456`

---

## ç¬¬äºŒæ­¥ï¼šè´­ä¹°åŸŸå (20åˆ†é’Ÿ)

### 2.1 åœ¨é˜¿é‡Œäº‘è´­ä¹°åŸŸå

1. **åœ¨é˜¿é‡Œäº‘é¦–é¡µæœç´¢"åŸŸå"**
2. **ç‚¹å‡»"åŸŸåæ³¨å†Œ"**
3. **è¾“å…¥ä½ æƒ³è¦çš„åŸŸå**ï¼Œä¾‹å¦‚ï¼š`myservice`
4. **é€‰æ‹©åç¼€**ï¼š`.com`ï¼ˆæ¨èï¼‰æˆ– `.cn`
5. **æ£€æŸ¥å¯ç”¨æ€§**ï¼Œé€‰æ‹©ä¸€ä¸ªå¯ç”¨åŸŸå
6. **è´­ä¹°1å¹´**ï¼ˆçº¦60-80å…ƒï¼‰

### 2.2 åŸŸåå®åè®¤è¯å’Œå¤‡æ¡ˆ

**å¦‚æœé€‰æ‹©.comåŸŸå**ï¼š
- åªéœ€è¦å®åè®¤è¯ï¼ˆ1å¤©å†…å®Œæˆï¼‰

**å¦‚æœé€‰æ‹©.cnåŸŸå**ï¼š
- éœ€è¦å®åè®¤è¯ + ICPå¤‡æ¡ˆï¼ˆ15-20å¤©ï¼‰

### 2.3 è®¾ç½®åŸŸåè§£æ

1. **è¿›å…¥é˜¿é‡Œäº‘æ§åˆ¶å°**
2. **ç‚¹å‡»"åŸŸå"èœå•**
3. **ç‚¹å‡»ä½ çš„åŸŸååé¢çš„"è§£æ"æŒ‰é’®**
4. **æ·»åŠ è§£æè®°å½•**ï¼š

```
è®°å½•ç±»å‹ï¼šA
ä¸»æœºè®°å½•ï¼šapi
è§£æçº¿è·¯ï¼šé»˜è®¤
è®°å½•å€¼ï¼šä½ çš„æœåŠ¡å™¨IPï¼ˆå¦‚ï¼š47.96.123.456ï¼‰
TTLï¼š10åˆ†é’Ÿ

è®°å½•ç±»å‹ï¼šA  
ä¸»æœºè®°å½•ï¼šadmin
è§£æçº¿è·¯ï¼šé»˜è®¤
è®°å½•å€¼ï¼šä½ çš„æœåŠ¡å™¨IPï¼ˆå¦‚ï¼š47.96.123.456ï¼‰
TTLï¼š10åˆ†é’Ÿ
```

5. **ä¿å­˜è®¾ç½®**

ç°åœ¨ä½ æœ‰äº†ï¼š
- `api.ä½ çš„åŸŸå.com` â†’ æŒ‡å‘ä½ çš„æœåŠ¡å™¨
- `admin.ä½ çš„åŸŸå.com` â†’ æŒ‡å‘ä½ çš„æœåŠ¡å™¨

---

## ç¬¬ä¸‰æ­¥ï¼šè¿æ¥æœåŠ¡å™¨ (15åˆ†é’Ÿ)

### 3.1 ä¸‹è½½SSHå·¥å…·

**Windowsç”¨æˆ·**ï¼š
1. ä¸‹è½½ **PuTTY**ï¼š`https://www.putty.org/`
2. å®‰è£…PuTTY

**Macç”¨æˆ·**ï¼š
- ä½¿ç”¨è‡ªå¸¦çš„ç»ˆç«¯å³å¯

### 3.2 è¿æ¥æœåŠ¡å™¨

**Windows (PuTTY)**ï¼š
1. **æ‰“å¼€PuTTY**
2. **åœ¨"Host Name"è¾“å…¥**ï¼šä½ çš„æœåŠ¡å™¨IP
3. **Portä¿æŒ22**
4. **ç‚¹å‡»"Open"**
5. **å¼¹å‡ºå®‰å…¨è­¦å‘Šï¼Œç‚¹å‡»"æ˜¯"**
6. **è¾“å…¥ç”¨æˆ·å**ï¼š`root`
7. **è¾“å…¥å¯†ç **ï¼šä½ è®¾ç½®çš„æœåŠ¡å™¨å¯†ç 

**Mac (ç»ˆç«¯)**ï¼š
1. **æ‰“å¼€ç»ˆç«¯åº”ç”¨**
2. **è¾“å…¥å‘½ä»¤**ï¼š`ssh root@ä½ çš„æœåŠ¡å™¨IP`
3. **è¾“å…¥å¯†ç **

æˆåŠŸè¿æ¥åï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„ç•Œé¢ï¼š
```
root@iZbp1234567890Z:~#
```

---

## ç¬¬å››æ­¥ï¼šå®‰è£…åŸºç¡€è½¯ä»¶ (30åˆ†é’Ÿ)

### 4.1 æ›´æ–°ç³»ç»Ÿ

**å¤åˆ¶ä¸‹é¢çš„å‘½ä»¤ï¼Œç²˜è´´åˆ°ç»ˆç«¯ï¼ŒæŒ‰å›è½¦**ï¼š

```bash
apt update && apt upgrade -y
```

ç­‰å¾…5-10åˆ†é’Ÿï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ›´æ–°ã€‚

### 4.2 å®‰è£…Node.js

```bash
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
apt-get install -y nodejs
```

**éªŒè¯å®‰è£…**ï¼š
```bash
node --version
npm --version
```

åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œå¦‚ï¼š`v18.17.0`

### 4.3 å®‰è£…MongoDB

```bash
wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add -
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list
apt update
apt install -y mongodb-org
```

**å¯åŠ¨MongoDB**ï¼š
```bash
systemctl start mongod
systemctl enable mongod
```

### 4.4 å®‰è£…Nginx

```bash
apt install -y nginx
systemctl start nginx
systemctl enable nginx
```

### 4.5 å®‰è£…PM2

```bash
npm install -g pm2
```

### 4.6 éªŒè¯å®‰è£…

è¾“å…¥è¿™ä¸ªå‘½ä»¤æ£€æŸ¥æ‰€æœ‰è½¯ä»¶æ˜¯å¦å®‰è£…æˆåŠŸï¼š
```bash
node --version && npm --version && nginx -v && pm2 --version
```

---

## ç¬¬äº”æ­¥ï¼šåˆ›å»ºFirebaseé¡¹ç›® (20åˆ†é’Ÿ)

### 5.1 æ³¨å†ŒGoogleè´¦æˆ·

å¦‚æœæ²¡æœ‰Gmailé‚®ç®±ï¼Œå…ˆæ³¨å†Œä¸€ä¸ªï¼š`https://accounts.google.com`

### 5.2 åˆ›å»ºFirebaseé¡¹ç›®

1. **æ‰“å¼€Firefoxæµè§ˆå™¨**ï¼Œè®¿é—®ï¼š`https://console.firebase.google.com`
2. **ç‚¹å‡»"æ·»åŠ é¡¹ç›®"**
3. **è¾“å…¥é¡¹ç›®åç§°**ï¼š`homeservicechat`
4. **ç‚¹å‡»"ç»§ç»­"**
5. **å…³é—­"Google Analytics"**ï¼ˆä¸éœ€è¦ï¼‰
6. **ç‚¹å‡»"åˆ›å»ºé¡¹ç›®"**

### 5.3 åˆ›å»ºAndroidåº”ç”¨

1. **åœ¨é¡¹ç›®é¦–é¡µï¼Œç‚¹å‡»Androidå›¾æ ‡**
2. **è¾“å…¥åŒ…å**ï¼š`com.homeservicechat`
3. **è¾“å…¥åº”ç”¨æ˜µç§°**ï¼š`HomeServiceChat`
4. **ç‚¹å‡»"æ³¨å†Œåº”ç”¨"**
5. **ä¸‹è½½google-services.jsonæ–‡ä»¶**ï¼ˆä¿å­˜åˆ°æ¡Œé¢ï¼‰

### 5.4 å¯ç”¨æ¶ˆæ¯ä¼ é€’

1. **ç‚¹å‡»å·¦ä¾§èœå•"Messaging"**
2. **ç‚¹å‡»"å¼€å§‹ä½¿ç”¨"**
3. **ä¿æŒé»˜è®¤è®¾ç½®ï¼Œç‚¹å‡»"å®Œæˆ"**

### 5.5 ç”ŸæˆæœåŠ¡è´¦æˆ·å¯†é’¥

1. **ç‚¹å‡»å·¦ä¸Šè§’é½¿è½®å›¾æ ‡ â†’ "é¡¹ç›®è®¾ç½®"**
2. **ç‚¹å‡»"æœåŠ¡è´¦æˆ·"æ ‡ç­¾é¡µ**
3. **ç‚¹å‡»"ç”Ÿæˆæ–°çš„ç§é’¥"**
4. **ç‚¹å‡»"ç”Ÿæˆå¯†é’¥"**
5. **ä¸‹è½½JSONæ–‡ä»¶**ï¼Œé‡å‘½åä¸º`serviceAccountKey.json`ï¼ˆä¿å­˜åˆ°æ¡Œé¢ï¼‰

---

## ç¬¬å…­æ­¥ï¼šä¸Šä¼ é¡¹ç›®ä»£ç  (20åˆ†é’Ÿ)

### 6.1 ä¸‹è½½é¡¹ç›®ä»£ç 

**æ–¹æ³•1ï¼šç›´æ¥ä¸‹è½½ZIP**
1. **åœ¨GitHubä¸Šä¸‹è½½é¡¹ç›®ZIPæ–‡ä»¶**
2. **è§£å‹åˆ°æ¡Œé¢**

**æ–¹æ³•2ï¼šä½¿ç”¨Gitï¼ˆæ¨èï¼‰**
åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼š
```bash
cd /var/www
git clone https://github.com/your-username/HomeServiceChat.git
```

### 6.2 ä¸Šä¼ é¡¹ç›®åˆ°æœåŠ¡å™¨

**ä½¿ç”¨WinSCP (Windows)**ï¼š

1. **ä¸‹è½½WinSCP**ï¼š`https://winscp.net/eng/download.php`
2. **å®‰è£…å¹¶æ‰“å¼€WinSCP**
3. **æ–°å»ºè¿æ¥**ï¼š
   - ä¸»æœºåï¼šä½ çš„æœåŠ¡å™¨IP
   - ç”¨æˆ·åï¼šroot
   - å¯†ç ï¼šä½ çš„æœåŠ¡å™¨å¯†ç 
4. **è¿æ¥æˆåŠŸå**ï¼š
   - å·¦ä¾§æ˜¯ä½ çš„ç”µè„‘
   - å³ä¾§æ˜¯æœåŠ¡å™¨
5. **åœ¨å³ä¾§è¿›å…¥ `/var/www` ç›®å½•**
6. **å°†æ¡Œé¢çš„é¡¹ç›®æ–‡ä»¶å¤¹æ‹–æ‹½åˆ°å³ä¾§**

**ä½¿ç”¨scpå‘½ä»¤ (Mac)**ï¼š
```bash
scp -r /path/to/HomeServiceChat root@ä½ çš„æœåŠ¡å™¨IP:/var/www/
```

### 6.3 ä¸Šä¼ Firebaseé…ç½®æ–‡ä»¶

1. **å°†`serviceAccountKey.json`ä¸Šä¼ åˆ°é¡¹ç›®æ ¹ç›®å½•**
2. **å°†`google-services.json`ä¸Šä¼ åˆ°`android/app/`ç›®å½•**

---

## ç¬¬ä¸ƒæ­¥ï¼šé…ç½®é¡¹ç›® (30åˆ†é’Ÿ)

### 7.1 è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd /var/www/HomeServiceChat
```

### 7.2 åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶

```bash
nano .env
```

**åœ¨ç¼–è¾‘å™¨ä¸­è¾“å…¥**ï¼ˆæŠŠyourdomain.comæ”¹æˆä½ çš„åŸŸåï¼‰ï¼š
```env
MONGODB_URI=mongodb://localhost:27017/homeservicechat
JWT_SECRET=your-super-secure-jwt-secret-key-at-least-32-characters-change-this
NODE_ENV=production
PORT=5000
CORS_ORIGINS=https://api.yourdomain.com,https://admin.yourdomain.com
```

**ä¿å­˜æ–‡ä»¶**ï¼š
- æŒ‰ `Ctrl + X`
- æŒ‰ `Y`
- æŒ‰ `Enter`

### 7.3 ä¿®æ”¹APIåœ°å€

**ç¼–è¾‘ç§»åŠ¨ç«¯é…ç½®**ï¼š
```bash
nano src/config/api.ts
```

æ‰¾åˆ°è¿™ä¸€è¡Œï¼š
```typescript
return 'https://your-production-api.com';
```

æ”¹ä¸ºï¼š
```typescript
return 'https://api.ä½ çš„åŸŸå.com';
```

ä¿å­˜æ–‡ä»¶ï¼ˆCtrl+X, Y, Enterï¼‰

**ç¼–è¾‘ç®¡ç†åå°é…ç½®**ï¼š
```bash
nano admin/src/api/api.ts
```

æ‰¾åˆ°ï¼š
```typescript
export const SERVER_BASE_URL = 'http://localhost:5000';
```

æ”¹ä¸ºï¼š
```typescript
export const SERVER_BASE_URL = 'https://api.ä½ çš„åŸŸå.com';
```

ä¿å­˜æ–‡ä»¶ã€‚

### 7.4 æ›´æ–°æœåŠ¡å™¨CORSé…ç½®

```bash
nano server.js
```

æ‰¾åˆ°å¤§çº¦ç¬¬50è¡Œçš„CORSé…ç½®ï¼Œæ”¹ä¸ºï¼š
```javascript
app.use(cors({
  origin: ['https://admin.ä½ çš„åŸŸå.com', 'https://api.ä½ çš„åŸŸå.com'],
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
  allowedHeaders: ['Content-Type', 'Authorization', 'X-Requested-With']
}));
```

ä¿å­˜æ–‡ä»¶ã€‚

### 7.5 å®‰è£…ä¾èµ–

```bash
npm install
```

ç­‰å¾…5-10åˆ†é’Ÿå®‰è£…å®Œæˆã€‚

**æ„å»ºç®¡ç†åå°**ï¼š
```bash
cd admin
npm install
npm run build
cd ..
```

---

## ç¬¬å…«æ­¥ï¼šé…ç½®æ•°æ®åº“ (10åˆ†é’Ÿ)

### 8.1 åˆ›å»ºæ•°æ®åº“

```bash
mongo
```

è¿›å…¥MongoDBå‘½ä»¤è¡Œåï¼Œè¾“å…¥ï¼š
```javascript
use homeservicechat
db.createUser({
  user: "homeservice_user",
  pwd: "your-secure-password-123",
  roles: ["readWrite"]
})
exit
```

### 8.2 åˆå§‹åŒ–ç®¡ç†å‘˜è´¦æˆ·

```bash
node src/models/seedAdmin.js
```

---

## ç¬¬ä¹æ­¥ï¼šé…ç½®Nginx (20åˆ†é’Ÿ)

### 9.1 åˆ›å»ºNginxé…ç½®æ–‡ä»¶

```bash
nano /etc/nginx/sites-available/homeservicechat
```

**è¾“å…¥é…ç½®å†…å®¹**ï¼ˆæŠŠyourdomain.comæ”¹æˆä½ çš„åŸŸåï¼‰ï¼š
```nginx
server {
    listen 80;
    server_name api.yourdomain.com admin.yourdomain.com;
    
    client_max_body_size 500M;
    
    location / {
        proxy_pass http://localhost:5000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}

server {
    listen 80;
    server_name admin.yourdomain.com;
    
    root /var/www/HomeServiceChat/admin/dist;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    location /api/ {
        proxy_pass http://localhost:5000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

ä¿å­˜æ–‡ä»¶ã€‚

### 9.2 å¯ç”¨é…ç½®

```bash
ln -s /etc/nginx/sites-available/homeservicechat /etc/nginx/sites-enabled/
rm /etc/nginx/sites-enabled/default
nginx -t
systemctl reload nginx
```

---

## ç¬¬åæ­¥ï¼šå®‰è£…SSLè¯ä¹¦ (15åˆ†é’Ÿ)

### 10.1 å®‰è£…Certbot

```bash
apt install certbot python3-certbot-nginx -y
```

### 10.2 è·å–å…è´¹SSLè¯ä¹¦

```bash
certbot --nginx -d api.yourdomain.com -d admin.yourdomain.com
```

**æŒ‰ç…§æç¤ºæ“ä½œ**ï¼š
1. è¾“å…¥é‚®ç®±åœ°å€
2. è¾“å…¥ `Y` åŒæ„æ¡æ¬¾
3. è¾“å…¥ `N` æ‹’ç»é‚®ä»¶é€šçŸ¥
4. é€‰æ‹© `2` å¼ºåˆ¶é‡å®šå‘åˆ°HTTPS

### 10.3 è®¾ç½®è‡ªåŠ¨ç»­æœŸ

```bash
crontab -e
```

é€‰æ‹©ç¼–è¾‘å™¨ï¼ˆè¾“å…¥`1`ï¼‰ï¼Œç„¶åæ·»åŠ è¿™ä¸€è¡Œï¼š
```
0 12 * * * /usr/bin/certbot renew --quiet
```

ä¿å­˜æ–‡ä»¶ã€‚

---

## ç¬¬åä¸€æ­¥ï¼šå¯åŠ¨æœåŠ¡ (10åˆ†é’Ÿ)

### 11.1 åˆ›å»ºPM2é…ç½®

```bash
nano ecosystem.config.js
```

è¾“å…¥ï¼š
```javascript
module.exports = {
  apps: [{
    name: 'homeservicechat-api',
    script: 'server.js',
    instances: 1,
    exec_mode: 'fork',
    env: {
      NODE_ENV: 'production',
      PORT: 5000
    },
    error_file: '/var/log/pm2/homeservicechat-error.log',
    out_file: '/var/log/pm2/homeservicechat-out.log',
    log_file: '/var/log/pm2/homeservicechat-combined.log',
    time: true
  }]
};
```

### 11.2 åˆ›å»ºæ—¥å¿—ç›®å½•

```bash
mkdir -p /var/log/pm2
```

### 11.3 å¯åŠ¨åº”ç”¨

```bash
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

**æŒ‰ç…§æç¤ºæ‰§è¡Œè¿”å›çš„å‘½ä»¤**ï¼Œç±»ä¼¼ï¼š
```bash
sudo env PATH=$PATH:/usr/bin /usr/lib/node_modules/pm2/bin/pm2 startup systemd -u root --hp /root
```

---

## ç¬¬åäºŒæ­¥ï¼šæµ‹è¯•éƒ¨ç½² (10åˆ†é’Ÿ)

### 12.1 æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
pm2 status
nginx -t
systemctl status nginx
systemctl status mongod
```

æ‰€æœ‰æœåŠ¡éƒ½åº”è¯¥æ˜¾ç¤º"running"æˆ–"active"ã€‚

### 12.2 æµ‹è¯•ç½‘ç«™è®¿é—®

**åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•**ï¼š

1. **APIå¥åº·æ£€æŸ¥**ï¼š
   è®¿é—®ï¼š`https://api.ä½ çš„åŸŸå.com/api/health`
   åº”è¯¥æ˜¾ç¤ºJSONå“åº”ï¼š`{"status": "ok"}`

2. **ç®¡ç†åå°**ï¼š
   è®¿é—®ï¼š`https://admin.ä½ çš„åŸŸå.com`
   åº”è¯¥æ˜¾ç¤ºç™»å½•é¡µé¢

3. **Socketè¿æ¥æµ‹è¯•**ï¼š
   æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œè®¿é—®ç®¡ç†åå°ï¼Œåº”è¯¥æ²¡æœ‰è¿æ¥é”™è¯¯

### 12.3 ç™»å½•ç®¡ç†åå°æµ‹è¯•

1. **è®¿é—®ç®¡ç†åå°**
2. **ä½¿ç”¨é»˜è®¤è´¦æˆ·ç™»å½•**ï¼š
   - ç”¨æˆ·åï¼š`admin`
   - å¯†ç ï¼š`admin123`
3. **æˆåŠŸç™»å½•åæŸ¥çœ‹ç”¨æˆ·ç®¡ç†ç­‰åŠŸèƒ½**

---

## ç¬¬åä¸‰æ­¥ï¼šç§»åŠ¨ç«¯é…ç½® (30åˆ†é’Ÿ)

### 13.1 å®‰è£…Androidå¼€å‘ç¯å¢ƒ

**Windowsç”¨æˆ·**ï¼š
1. **ä¸‹è½½Android Studio**ï¼š`https://developer.android.com/studio`
2. **å®‰è£…Android Studio**
3. **å¯åŠ¨åä¸‹è½½SDK**

### 13.2 ç”Ÿæˆç­¾åå¯†é’¥

åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼š
```bash
cd android/app
keytool -genkeypair -v -keystore release-key.keystore -alias release-alias -keyalg RSA -keysize 2048 -validity 10000
```

**æŒ‰æç¤ºè¾“å…¥ä¿¡æ¯**ï¼š
- å¯†ç ï¼šè®¾ç½®ä¸€ä¸ªå¯†ç ï¼ˆè®°ä½ï¼ï¼‰
- å§“åï¼šä½ çš„å§“å
- å…¶ä»–ä¿¡æ¯å¯ä»¥éšæ„å¡«å†™

### 13.3 é…ç½®ç­¾å

ç¼–è¾‘`android/app/build.gradle`ï¼š
```bash
nano android/app/build.gradle
```

åœ¨`android {`å—ä¸­æ·»åŠ ï¼š
```gradle
signingConfigs {
    release {
        storeFile file('release-key.keystore')
        storePassword 'your-keystore-password'
        keyAlias 'release-alias'
        keyPassword 'your-key-password'
    }
}

buildTypes {
    release {
        signingConfig signingConfigs.release
        minifyEnabled false
        proguardFiles getDefaultProguardFile("proguard-android.txt"), "proguard-rules.pro"
    }
}
```

### 13.4 æ„å»ºAPK

```bash
cd android
./gradlew assembleRelease
```

æ„å»ºå®Œæˆåï¼ŒAPKæ–‡ä»¶åœ¨ï¼š
`android/app/build/outputs/apk/release/app-release.apk`

---

## ç¬¬åå››æ­¥ï¼šæœ€ç»ˆæµ‹è¯• (20åˆ†é’Ÿ)

### 14.1 å®Œæ•´åŠŸèƒ½æµ‹è¯•

1. **ç®¡ç†åå°æµ‹è¯•**ï¼š
   - ç™»å½•ç®¡ç†åå°
   - åˆ›å»ºå®¢æœè´¦æˆ·
   - æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨
   - ä¸Šä¼ æµ‹è¯•å›¾ç‰‡

2. **ç§»åŠ¨ç«¯æµ‹è¯•**ï¼š
   - å®‰è£…APKåˆ°æ‰‹æœº
   - ä½¿ç”¨é‚€è¯·ç `6969`æ³¨å†Œ
   - æµ‹è¯•èŠå¤©åŠŸèƒ½
   - æµ‹è¯•å›¾ç‰‡ä¸Šä¼ 

3. **æ¨é€é€šçŸ¥æµ‹è¯•**ï¼š
   - å‘é€æ¶ˆæ¯æŸ¥çœ‹æ˜¯å¦æ”¶åˆ°æ¨é€

### 14.2 æ€§èƒ½ç›‘æ§

æŸ¥çœ‹æœåŠ¡å™¨æ€§èƒ½ï¼š
```bash
pm2 monit
htop
df -h
```

---

## ğŸ‰ éƒ¨ç½²å®Œæˆï¼

**æ­å–œï¼** ä½ å·²ç»æˆåŠŸéƒ¨ç½²äº†HomeServiceChatç³»ç»Ÿã€‚

### ğŸ“ é‡è¦ä¿¡æ¯è®°å½•

è¯·å°†ä»¥ä¸‹ä¿¡æ¯ä¿å­˜å¥½ï¼š

```
æœåŠ¡å™¨IPï¼š_______________
åŸŸåï¼šapi._____________.com
åŸŸåï¼šadmin._____________.com
æœåŠ¡å™¨rootå¯†ç ï¼š_______________
æ•°æ®åº“å¯†ç ï¼š_______________
Firebaseé¡¹ç›®IDï¼š_______________
APKç­¾åå¯†ç ï¼š_______________
ç®¡ç†åå°è´¦æˆ·ï¼šadmin / admin123
```

### ğŸ”§ æ—¥å¸¸ç»´æŠ¤

**æŸ¥çœ‹æ—¥å¿—**ï¼š
```bash
pm2 logs
tail -f /var/log/nginx/error.log
```

**é‡å¯æœåŠ¡**ï¼š
```bash
pm2 restart all
systemctl restart nginx
```

**å¤‡ä»½æ•°æ®åº“**ï¼š
```bash
mongodump --db homeservicechat --out /backup/$(date +%Y%m%d)
```

### ğŸ“ å¸¸è§é—®é¢˜

1. **ç½‘ç«™æ‰“ä¸å¼€**ï¼š
   - æ£€æŸ¥åŸŸåè§£ææ˜¯å¦ç”Ÿæ•ˆï¼ˆ24å°æ—¶å†…ï¼‰
   - æ£€æŸ¥æœåŠ¡å™¨é˜²ç«å¢™
   - æŸ¥çœ‹nginxé”™è¯¯æ—¥å¿—

2. **æ¨é€é€šçŸ¥ä¸å·¥ä½œ**ï¼š
   - æ£€æŸ¥Firebaseé…ç½®æ–‡ä»¶
   - ç¡®è®¤åº”ç”¨åŒ…åæ­£ç¡®

3. **ä¸Šä¼ æ–‡ä»¶å¤±è´¥**ï¼š
   - æ£€æŸ¥uploadsç›®å½•æƒé™
   - æŸ¥çœ‹nginxæ–‡ä»¶å¤§å°é™åˆ¶

**éœ€è¦å¸®åŠ©ï¼Ÿ** é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–æ”¯æŒï¼š
- æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—æ’æŸ¥é—®é¢˜
- æœç´¢é”™è¯¯ä¿¡æ¯æ‰¾è§£å†³æ–¹æ¡ˆ
- è”ç³»æŠ€æœ¯æ”¯æŒ

---

**ğŸ¯ ä¸‹ä¸€æ­¥**ï¼šå¼€å§‹ä½¿ç”¨ä½ çš„èŠå¤©ç³»ç»Ÿï¼Œé‚€è¯·ç”¨æˆ·æ³¨å†Œä½“éªŒï¼ 